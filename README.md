# udpong

`udpong` is a tool for monitoring and logging UDP flow quality.

It provides a client and server to identify and log inconsistencies in
UDP traffic, such as connection losses or out-of-order packets.

> Disclaimer: This project is in early stages, with features still in
> development and subject to change.

## Features

- Looks for out-of-order packets, packet loss, timeouts
- Minimal log output to highlight only UDP traffic inconsistencies
- Each message is authenticated with hash-based message authentication code
(HMAC), ensuring secure communications between client and server
- The HMAC secret is a configurable password which is autogenerated by the
server or set via the UDPONG_PW environment variable

## Installation

Before installation, [Rust](https://doc.rust-lang.org/cargo/getting-started/installation.html) must be installed.

```sh
git clone https://github.com/SeungKang/udpong
cd udpong
cargo install --path .
```

## Usage

### Overall Usage

```
Usage: udpong <COMMAND>

Commands:
  client   Launch the client
  server   Launch the server
  version  Print current version
  help     Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```

### Client Usage

```
Usage: udpong client [OPTIONS] <ADDRESS>

Arguments:
  <ADDRESS>  Specify address of the server

Options:
  -v, --verbose      Enable logging of all sent and receive packets
  -b, --bind <BIND>  Specify address to bind to [default: 0.0.0.0:0]
  -h, --help         Print help
```

### Server Usage

```
Usage: udpong server [OPTIONS]

Options:
  -v, --verbose      Enable logging of all sent and receive packets
  -b, --bind <BIND>  Specify address to listen on for incoming packets [default: 0.0.0.0:55101]
  -h, --help         Print help
```

## Examples

Using default client and server address. Running udpong in verbose mode.

```console
$ # on server computer
$ udpong server -v
2025/01/01 01:35:25Z password is: REDACTED
2025/01/01 01:35:25Z listening on 127.0.0.1:55101 for connections...

$ # on client computer
$ export UDPONG_PW=REDACTED
udpong client 127.0.0.1:55111 -v
2025/01/26 17:45:48Z attempting to send initial message to server...
2025/01/26 17:45:48Z received initial server response
```

Using custom client and server address.

```console
$ # on server computer
$ udpong server --bind 127.0.0.1:55111
2025/01/01 01:35:25Z password is: REDACTED
2025/01/01 01:35:25Z listening on 127.0.0.1:55111 for connections...

$ # on client computer
$ export UDPONG_PW=REDACTED
$ udpong client --bind 127.0.0.1:2000 127.0.0.1:55111
2025/01/26 17:45:48Z attempting to send initial message to server...
2025/01/26 17:45:48Z received initial server response
```
